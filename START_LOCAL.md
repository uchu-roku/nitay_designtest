# ローカル起動手順

## 1. バックエンドの起動

### ターミナル1（バックエンド用）

```bash
# バックエンドディレクトリに移動
cd backend

# 依存パッケージをインストール（初回のみ）
pip install -r requirements.txt

# バックエンドサーバーを起動
python main.py
```

バックエンドは `http://localhost:8000` で起動します。

## 2. フロントエンドの起動

### ターミナル2（フロントエンド用）

```bash
# フロントエンドディレクトリに移動
cd frontend

# 依存パッケージをインストール（初回のみ）
npm install

# 開発サーバーを起動
npm run dev
```

フロントエンドは `http://localhost:5173` で起動します。

## 3. ブラウザで確認

ブラウザで `http://localhost:5173` を開いてください。

## 森林簿の複数選択機能を確認する手順

1. **森林簿レイヤーを表示**
   - 左サイドバーの「レイヤー表示」セクションで「森林簿」をクリック

2. **複数選択の方法**
   
   **方法A: クリックで選択**
   - 地図上の小班（緑色のポリゴン）をクリックすると選択状態になります
   - 別の小班をクリックすると追加選択されます
   - 既に選択されている小班を再度クリックすると選択解除されます
   
   **方法B: 検索で複数選択**
   - 「森林簿」の下に表示される検索ボックスに、カンマ区切りでIDを入力
   - 例: `01010-001-001,01010-001-002,01010-001-003`
   - 「検索」ボタンをクリック

3. **選択した小班の確認**
   - 「選択情報を表示」ボタンをクリック
   - 選択中の小班の詳細情報が表示されます

4. **複数小班の一括解析**
   - 「選択した小班を解析」ボタンをクリック
   - 選択した全ての小班をまとめて解析します

5. **選択のクリア**
   - 「選択をクリア」ボタンで全ての選択を解除できます
   - または「元に戻す」ボタン（地図左上）で最後の選択を1つずつ解除できます

## トラブルシューティング

### バックエンドが起動しない場合
- Python 3.8以上がインストールされているか確認
- `pip install -r requirements.txt` でエラーが出る場合は、個別にインストール

### フロントエンドが起動しない場合
- Node.js 16以上がインストールされているか確認
- `npm install` を再実行

### 森林簿が表示されない場合
- バックエンドが正常に起動しているか確認（`http://localhost:8000/docs` でAPIドキュメントが見れるか）
- ブラウザのコンソール（F12）でエラーメッセージを確認
