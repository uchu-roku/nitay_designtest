# MVP版 - シンプルデプロイ（バックエンド不要）

## ✅ 実装した変更

### 1. データファイルをフロントエンドに移動
- `backend/data/administrative/` → `frontend/public/data/administrative/`
- バックエンドAPIなしで、直接GeoJSONファイルを読み込み

### 2. 解析機能をフロントエンドのみで実装
- バックエンドAPIを呼ばず、フロントエンドで簡易シミュレーション
- ランダムな樹木位置と材積を生成

### 3. 画像アップロード機能を無効化
- MVP版では地図モードのみ対応
- 画像アップロードは将来のバージョンで実装

---

## 🚀 デプロイ方法

### ステップ1: コミット＆プッシュ

```bash
git add .
git commit -m "MVP: Frontend-only version without backend"
git push
```

### ステップ2: 完了！

GitHub Actionsが自動的にデプロイします（約2分）。

---

## 📊 アーキテクチャ

### 以前（バックエンド必要）
```
GitHub Pages          Render.com
├── フロントエンド → バックエンド（必要）
                      ├── データファイル
                      └── 解析API
```

### 現在（バックエンド不要）
```
GitHub Pages
├── フロントエンド
├── データファイル（public/data/）
└── 解析ロジック（フロントエンド内）
```

---

## 🎯 動作する機能

### ✅ 動作する
- 地図表示
- 行政区域の表示
- 河川の表示
- 森林簿（林班・小班）の表示
- 範囲指定（矩形・ポリゴン）
- 簡易解析（樹木本数・材積の推定）
- 樹木位置の表示

### ❌ 未実装（MVP版）
- 画像アップロード
- 実際の画像解析（DeepForest）
- 高精度な材積計算

---

## 💻 ローカル開発

```bash
# フロントエンドのみ起動
cd frontend
npm install
npm run dev
```

ブラウザで http://localhost:3000/zaisekiyosokuapp/ にアクセス

---

## 📝 使い方

1. サイトにアクセス: https://uchu-roku.github.io/zaisekiyosokuapp/
2. 「A: 地図から解析」を選択（デフォルト）
3. 「行政区域 ON」「河川 ON」「森林簿 ON」でデータを表示
4. 地図上で範囲を指定:
   - 矩形: ドラッグで範囲を指定
   - ポリゴン: クリックで頂点を追加、ダブルクリックで完了
5. 「解析」ボタンをクリック
6. 結果が表示される

---

## 🔧 カスタマイズ

### データファイルを更新する場合

1. `frontend/public/data/administrative/` にGeoJSONファイルを配置
2. `frontend/src/Map.jsx` のfetch URLを更新

### 解析ロジックを変更する場合

`frontend/src/App.jsx` の `generateMockAnalysis()` 関数を編集

---

## 📈 将来の拡張

### フェーズ2: バックエンド追加
- 画像アップロード機能
- DeepForestによる実際の樹木検出
- 高精度な材積計算

### フェーズ3: 高度な機能
- ユーザー認証
- 解析履歴の保存
- レポート生成

---

## ⚡ メリット

1. **デプロイが簡単**: GitHub Pagesのみで完結
2. **コストゼロ**: 外部サービス不要
3. **高速**: バックエンドAPIの呼び出しなし
4. **メンテナンス不要**: サーバー管理不要

## ⚠️ 制限事項

1. **簡易シミュレーション**: 実際の画像解析ではない
2. **画像アップロード不可**: 地図モードのみ
3. **データ更新**: 手動でGeoJSONファイルを更新

---

## 🎉 完了！

これでMVP版が完成しました。バックエンドなしで、すべての基本機能が動作します。

次のステップ:
1. `git push` でデプロイ
2. サイトにアクセスして動作確認
3. フィードバックを収集
4. 必要に応じてバックエンドを追加
